{"version":3,"file":"static/js/428.97e4dd6c.chunk.js","mappings":"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","sources":["components/Budget.js","../node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback, useRef } from \"react\";\nimport supabase from \"../supabaseClient\";\nimport { Trash2, PlusCircle } from \"lucide-react\";\nimport { useData } from \"../DataContext\";\n\nfunction Budget() {\n  const {\n    income: incomeData,\n    budgetGroups: groups,\n    purchases,\n    userId,\n    refetchBudgetGroups,\n  } = useData();\n  const income = incomeData?.monthlyTakeHome || 0;\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\n  const [tempGroupNames, setTempGroupNames] = useState({});\n  const [tempItemNames, setTempItemNames] = useState({});\n  const debounceTimers = useRef({});\n\n  useEffect(() => {\n    const checkScreenSize = () => {\n      // Adjust these breakpoints as needed\n      setIsSmallScreen(window.innerWidth < 1650);\n    };\n\n    // Check initial screen size\n    checkScreenSize();\n\n    // Add event listener for window resize\n    window.addEventListener(\"resize\", checkScreenSize);\n\n    // Cleanup listener on component unmount\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\n  }, []);\n\n  // Memoize total spent calculation\n  const calculateTotalSpent = useMemo(() => {\n    const currentMonth = new Date().getMonth();\n    const currentYear = new Date().getFullYear();\n\n    const filteredPurchases = purchases.filter((purchase) => {\n      const purchaseDate = new Date(purchase.timestamp);\n      const purchaseMonth = purchaseDate.getMonth();\n      const purchaseYear = purchaseDate.getFullYear();\n\n      return (\n        purchaseMonth === currentMonth &&\n        purchaseYear === currentYear\n      );\n    });\n\n    return filteredPurchases.reduce(\n      (sum, purchase) => sum + (purchase.cost || 0),\n      0\n    );\n  }, [purchases]);\n\n  // Memoize spent by item calculation\n  const calculateSpent = useCallback((itemId) => {\n    const currentMonth = new Date().getMonth();\n    const currentYear = new Date().getFullYear();\n\n    const filteredPurchases = purchases.filter((purchase) => {\n      const purchaseDate = new Date(purchase.timestamp);\n      const purchaseMonth = purchaseDate.getMonth();\n      const purchaseYear = purchaseDate.getFullYear();\n\n      return (\n        purchase.budget_item_id === itemId &&\n        purchaseMonth === currentMonth &&\n        purchaseYear === currentYear\n      );\n    });\n\n    return filteredPurchases.reduce(\n      (sum, purchase) => sum + (purchase.cost || 0),\n      0\n    );\n  }, [purchases]);\n\n  // Debounced update function\n  const debounceUpdate = useCallback((key, callback, delay = 500) => {\n    if (debounceTimers.current[key]) {\n      clearTimeout(debounceTimers.current[key]);\n    }\n    debounceTimers.current[key] = setTimeout(callback, delay);\n  }, []);\n\n  const handleGroupInputChange = (groupId, value) => {\n    // Update temp state immediately for responsive typing\n    setTempGroupNames((prev) => ({\n      ...prev,\n      [groupId]: value,\n    }));\n    \n    // Debounce the database update\n    debounceUpdate(`group-${groupId}`, async () => {\n      await supabase\n        .from(\"budget_groups\")\n        .update({ name: value })\n        .eq(\"id\", groupId);\n      refetchBudgetGroups();\n    });\n  };\n\n  const handleItemInputChange = (itemId, value) => {\n    // Update temp state immediately for responsive typing\n    setTempItemNames((prev) => ({\n      ...prev,\n      [itemId]: value,\n    }));\n    \n    // Debounce the database update\n    debounceUpdate(`item-${itemId}`, async () => {\n      await supabase\n        .from(\"budget_items\")\n        .update({ name: value })\n        .eq(\"id\", itemId);\n      refetchBudgetGroups();\n    });\n  };\n\n  const handleItemBudgetChange = (itemId, value) => {\n    debounceUpdate(`budget-${itemId}`, async () => {\n      const numericValue = parseFloat(value) || 0;\n      await supabase\n        .from(\"budget_items\")\n        .update({ budget: numericValue })\n        .eq(\"id\", itemId);\n      refetchBudgetGroups();\n    });\n  };\n    \n  const handleAddItem = async (groupId) => {\n    if (!userId) return;\n\n    const { data: existingItems } = await supabase\n      .from(\"budget_items\")\n      .select(\"name\")\n      .eq(\"group_id\", groupId)\n      .eq(\"user_id\", userId)\n      .like(\"name\", \"New Item%\");\n\n    const numbers = existingItems\n      .map((item) => {\n        const match = item.name.match(/New Item (\\d+)/);\n        return match ? parseInt(match[1]) : 0;\n      })\n      .filter((num) => !isNaN(num));\n\n    const nextNumber = numbers.length > 0 ? Math.max(...numbers) + 1 : 1;\n\n    const newItem = {\n      name: `New Item ${nextNumber}`,\n      budget: 0,\n      group_id: groupId,\n      user_id: userId, // Add user_id\n    };\n\n    await supabase.from(\"budget_items\").insert([newItem]);\n    refetchBudgetGroups();\n  };\n\n  const handleAddGroup = async () => {\n    if (!userId) return;\n\n    const newGroup = {\n      name: \"New Group\",\n      user_id: userId, // Add user_id\n    };\n    await supabase.from(\"budget_groups\").insert([newGroup]);\n    refetchBudgetGroups();\n  };\n\n  const handleDeleteItem = async (itemId) => {\n    await supabase.from(\"budget_items\").delete().eq(\"id\", itemId);\n    refetchBudgetGroups();\n  };\n\n  const handleDeleteGroup = async (groupId) => {\n    await supabase.from(\"budget_groups\").delete().eq(\"id\", groupId);\n    refetchBudgetGroups();\n  };\n\n  // Memoize totals calculation\n  const totals = useMemo(() => {\n    let totalBudget = 0;\n    const totalSpent = calculateTotalSpent;\n\n    groups.forEach((group) => {\n      if (Array.isArray(group.budget_items)) {\n        group.budget_items.forEach((item) => {\n          totalBudget += Number(item.budget) || 0;\n        });\n      }\n    });\n\n    return {\n      totalBudget,\n      totalSpent,\n      remainingBudget: income - totalBudget,\n      remainingSpent: income - totalSpent,\n    };\n  }, [groups, income, calculateTotalSpent]);\n\n  return (\n    <div className=\"w-full mx-auto p-6 bg-white shadow-lg rounded-lg\">\n      <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">\n        Budget\n      </h1>\n      <div className=\"flex justify-between items-start mb-6\">\n        <div className=\"text-xl font-semibold\">Income: ${income}</div>\n        <button\n          onClick={handleAddGroup}\n          className=\"flex items-center bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors\"\n        >\n          {!isSmallScreen && <PlusCircle className=\"mr-2\" size={20} />}\n          Add Group\n        </button>\n      </div>\n\n      {groups.map((group) => (\n        <div key={group.id} className=\"mb-6 bg-gray-50 p-4 rounded-lg border\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <input\n              type=\"text\"\n              value={tempGroupNames[group.id] ?? group.name}\n              onChange={(e) => handleGroupInputChange(group.id, e.target.value)}\n              className=\"text-xl font-semibold text-gray-700 bg-transparent border-b border-gray-300 w-full hover:bg-blue-200 rounded-sm pl-2\"\n            />\n            <div className=\"flex space-x-1\">\n              <div className=\"flex items-center ml-2 px-3 py-1 border rounded-md bg-gray-200\">\n                {group.budget_items.reduce((sum, item) => sum + item.budget, 0)}\n                $\n              </div>\n              <button\n                onClick={() => handleAddItem(group.id)}\n                className=\"flex items-center bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600 transition-colors\"\n              >\n                <PlusCircle size={isSmallScreen ? 24 : 30} />\n                {!isSmallScreen && <span className=\"text-sm\">Add Item</span>}\n              </button>\n              <button\n                onClick={() => {\n                  if (\n                    window.confirm(\n                      \"Are you sure you want to delete this group?\"\n                    )\n                  ) {\n                    handleDeleteGroup(group.id);\n                  }\n                }}\n                className=\"flex items-center bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition-colors\"\n              >\n                <Trash2 size={isSmallScreen ? 24 : 30} />\n                {!isSmallScreen && (\n                  <span className=\"text-sm\">Delete {group.name}</span>\n                )}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"overflow-x-auto rounded-md\">\n            <table className=\"w-full border bg-blue-50 rounded-md\">\n              <thead>\n                <tr className=\"bg-blue-100\">\n                  <th className=\"w-full p-3 font-semibold text-left text-gray-700\">\n                    Item\n                  </th>\n                  <th className=\"w-15 p-3 font-semibold text-left text-gray-700\">\n                    Budget\n                  </th>\n                  <th className=\"w-15 p-3 font-semibold text-left text-gray-700\">\n                    Spent\n                  </th>\n                  <th className=\"w-10 p-3 font-semibold text-gray-700\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {group.budget_items?.map((item) => (\n                  <tr key={item.id} className=\"transition-colors\">\n                    <td className=\"p-1\">\n                      <input\n                        type=\"text\"\n                        value={tempItemNames[item.id] ?? item.name}\n                        onChange={(e) =>\n                          handleItemInputChange(item.id, e.target.value)\n                        }\n                        className=\"w-full px-2 bg-transparent hover:bg-blue-200 rounded-sm\"\n                      />\n                    </td>\n                    <td className=\"p-1\">\n                      <input\n                        type=\"number\"\n                        defaultValue={item.budget}\n                        onBlur={(e) =>\n                          handleItemBudgetChange(item.id, e.target.value)\n                        }\n                        className=\"w-full px-2 bg-transparent hover:bg-blue-200 rounded-sm\"\n                      />\n                    </td>\n                    <td className=\"p-1 w-10\">\n                      <span\n                        className={`text-sm ${\n                          calculateSpent(item.id) > item.budget\n                            ? \"text-red-500\"\n                            : calculateSpent(item.id) === item.budget\n                            ? \"text-yellow-500\"\n                            : \"text-green-500\"\n                        }`}\n                      >\n                        ${calculateSpent(item.id).toFixed(2)}\n                      </span>\n                    </td>\n                    <td className=\"p-1\">\n                      <button\n                        onClick={() => handleDeleteItem(item.id)}\n                        className=\"text-red-500 hover:text-red-700\"\n                      >\n                        <Trash2 size={isSmallScreen ? 20 : 24} />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      ))}\n\n      <div className=\"grid sm:grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-4 bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Total Budgeted:</span>\n            <span className=\"font-semibold\">\n              ${totals.totalBudget.toFixed(2)}\n            </span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Remaining Budget:</span>\n            <span className=\"font-semibold\">\n              ${totals.remainingBudget.toFixed(2)}\n            </span>\n          </div>\n        </div>\n        <div className=\"space-y-4 bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Total Spent:</span>\n            <span className=\"font-semibold\">\n              ${totals.totalSpent.toFixed(2)}\n            </span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600\">Remaining:</span>\n            <span className=\"font-semibold\">\n              ${totals.remainingSpent.toFixed(2)}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Budget;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', __iconNode);\n\nexport default Trash2;\n"],"names":["income","incomeData","budgetGroups","groups","purchases","userId","refetchBudgetGroups","useData","monthlyTakeHome","isSmallScreen","setIsSmallScreen","useState","tempGroupNames","setTempGroupNames","tempItemNames","setTempItemNames","debounceTimers","useRef","useEffect","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","calculateTotalSpent","useMemo","currentMonth","Date","getMonth","currentYear","getFullYear","filter","purchase","purchaseDate","timestamp","purchaseMonth","purchaseYear","reduce","sum","cost","calculateSpent","useCallback","itemId","budget_item_id","debounceUpdate","key","callback","delay","arguments","length","undefined","current","clearTimeout","setTimeout","totals","totalBudget","totalSpent","forEach","group","Array","isArray","budget_items","item","Number","budget","remainingBudget","remainingSpent","_jsxs","className","children","_jsx","onClick","async","newGroup","name","user_id","supabase","from","insert","PlusCircle","size","map","_tempGroupNames$group","_group$budget_items","type","value","id","onChange","e","handleGroupInputChange","groupId","target","prev","_objectSpread","concat","update","eq","data","existingItems","select","like","numbers","match","parseInt","num","isNaN","nextNumber","Math","max","newItem","group_id","handleAddItem","confirm","delete","handleDeleteGroup","Trash2","_tempItemNames$item$i","handleItemInputChange","defaultValue","onBlur","handleItemBudgetChange","numericValue","parseFloat","toFixed","handleDeleteItem","createLucideIcon","d","x1","x2","y1","y2"],"sourceRoot":""}