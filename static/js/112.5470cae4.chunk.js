/*! For license information please see 112.5470cae4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpersonal_finance_tracker=self.webpackChunkpersonal_finance_tracker||[]).push([[112],{4112:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(9379),n=t(5043),r=t(3709);const l=(0,t(1114).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var d=t(4488),i=t(2031),c=t(579);const o=()=>{const{budgetGroups:e,userId:a,refetchPurchases:t}=(0,i.E)(),[o,m]=(0,n.useState)({itemName:"",cost:"",budgetItemId:""}),[h,u]=(0,n.useState)(!1),g=e=>{const{name:a,value:t}=e.target;m((e=>(0,s.A)((0,s.A)({},e),{},{[a]:t})))};return(0,c.jsxs)("div",{className:"w-full mx-auto p-6 bg-white dark:bg-slate-800 shadow-lg rounded-lg relative",children:[h&&(0,c.jsx)("div",{className:"success-animation fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,c.jsx)("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-lg shadow-2xl transform transition-all duration-500 animate-bounce-in",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-green-100 dark:bg-green-900 mb-6",children:(0,c.jsx)(l,{className:"w-16 h-16 text-green-500 dark:text-green-400 animate-pulse"})}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Success!"}),(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your purchase has been added"}),(0,c.jsxs)("div",{className:"sparkles",children:[(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"0s"}}),(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"0.3s"}}),(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"0.6s"}}),(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"0.9s"}}),(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"1.2s"}}),(0,c.jsx)("div",{className:"sparkle",style:{"--delay":"1.5s"}})]})]})})}),(0,c.jsx)("style",{jsx:!0,children:"\n        @keyframes bounceIn {\n          0% {\n            transform: scale(0.3);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.05);\n            opacity: 1;\n          }\n          70% {\n            transform: scale(0.9);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n\n        @keyframes float {\n          0% {\n            transform: translateY(0) rotate(0deg);\n            opacity: 1;\n          }\n          100% {\n            transform: translateY(-100px) rotate(360deg);\n            opacity: 0;\n          }\n        }\n\n        .animate-bounce-in {\n          animation: bounceIn 0.7s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n        }\n\n        .sparkles {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          width: 10px;\n          height: 10px;\n          border-radius: 50%;\n          background: radial-gradient(\n            circle,\n            #fff 0%,\n            rgba(255, 215, 0, 0.8) 60%,\n            rgba(255, 215, 0, 0) 100%\n          );\n          animation: float 2s ease-in-out forwards;\n          animation-delay: var(--delay);\n          opacity: 0;\n        }\n\n        .sparkle:nth-child(1) {\n          top: 20%;\n          left: 20%;\n        }\n        .sparkle:nth-child(2) {\n          top: 30%;\n          left: 70%;\n        }\n        .sparkle:nth-child(3) {\n          top: 70%;\n          left: 30%;\n        }\n        .sparkle:nth-child(4) {\n          top: 60%;\n          left: 80%;\n        }\n        .sparkle:nth-child(5) {\n          top: 80%;\n          left: 40%;\n        }\n        .sparkle:nth-child(6) {\n          top: 40%;\n          left: 60%;\n        }\n      "}),(0,c.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Add Purchase"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(new Date).toISOString().split("T")[0],s={item_name:o.itemName.trim(),user_id:a,cost:parseFloat(o.cost)||0,budget_item_id:o.budgetItemId,timestamp:new Date(e+"T00:00:00Z").toISOString()},{error:n}=await r.A.from("purchases").insert([s]);if(n)throw n;await t(),u(!0),setTimeout((()=>{u(!1)}),3e3),m({itemName:"",cost:"",budgetItemId:""})}catch(s){console.error("Error saving purchase:",s),alert("Failed to save purchase. Please try again.")}},className:"space-y-4 mb-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 mb-2",children:"Item Name"}),(0,c.jsx)("input",{type:"text",name:"itemName",value:o.itemName,onChange:g,required:!0,className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 bg-white dark:bg-slate-700 text-gray-800 dark:text-white"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 mb-2",children:"Cost"}),(0,c.jsx)("input",{type:"number",name:"cost",value:o.cost,onChange:g,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 bg-white dark:bg-slate-700 text-gray-800 dark:text-white"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 mb-2",children:"Budget Item"}),(0,c.jsxs)("select",{name:"budgetItemId",value:o.budgetItemId,onChange:g,required:!0,className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 bg-white dark:bg-slate-700 text-gray-800 dark:text-white",children:[(0,c.jsx)("option",{value:"",children:"Select a budget item"}),e.map((e=>{var a;return(0,c.jsx)("optgroup",{label:e.name,children:null===(a=e.budget_items)||void 0===a?void 0:a.map((e=>(0,c.jsx)("option",{value:e.id,children:e.name},e.id)))},e.id)}))]})]})]}),(0,c.jsxs)("button",{type:"submit",className:"w-full bg-blue-500 dark:bg-blue-600 text-white py-2 rounded-md hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors flex items-center justify-center",children:[(0,c.jsx)(d.A,{className:"mr-2",size:20}),"Add Purchase"]})]})]})}},4488:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1114).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}}]);
//# sourceMappingURL=112.5470cae4.chunk.js.map