{"version":3,"file":"static/js/112.bebdfa77.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/circle-check-big.ts","components/AddPurchase.js","../node_modules/lucide-react/src/icons/save.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('CircleCheckBig', __iconNode);\n\nexport default CircleCheckBig;\n","import React, { useState } from \"react\";\nimport supabase from \"../supabaseClient.js\";\nimport { Save, CheckCircle } from \"lucide-react\";\nimport { useData } from \"../DataContext\";\n\nconst AddPurchase = () => {\n  const { budgetGroups, userId, refetchPurchases } = useData();\n  const [formData, setFormData] = useState({\n    itemName: \"\",\n    cost: \"\",\n    budgetItemId: \"\",\n  });\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const currentDate = new Date().toISOString().split(\"T\")[0];\n      const purchaseData = {\n        item_name: formData.itemName.trim(),\n        user_id: userId,\n        cost: parseFloat(formData.cost) || 0,\n        budget_item_id: formData.budgetItemId,\n        timestamp: new Date(currentDate + \"T00:00:00Z\").toISOString(),\n      };\n\n      const { error } = await supabase.from(\"purchases\").insert([purchaseData]);\n\n      if (error) throw error;\n\n      // Refetch purchases to update the context\n      await refetchPurchases();\n\n      // Show success animation\n      setShowSuccess(true);\n\n      // Hide animation after 3 seconds\n      setTimeout(() => {\n        setShowSuccess(false);\n      }, 3000);\n\n      // Reset form after successful submission\n      setFormData({\n        itemName: \"\",\n        cost: \"\",\n        budgetItemId: \"\",\n      });\n    } catch (error) {\n      console.error(\"Error saving purchase:\", error);\n      alert(\"Failed to save purchase. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"w-full mx-auto p-6 bg-white shadow-lg rounded-lg relative\">\n      {showSuccess && (\n        <div className=\"success-animation fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\">\n          <div className=\"bg-white p-8 rounded-lg shadow-2xl transform transition-all duration-500 animate-bounce-in\">\n            <div className=\"text-center\">\n              <div className=\"inline-flex items-center justify-center w-24 h-24 rounded-full bg-green-100 mb-6\">\n                <CheckCircle className=\"w-16 h-16 text-green-500 animate-pulse\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                Success!\n              </h2>\n              <p className=\"text-gray-600 mb-4\">Your purchase has been added</p>\n              <div className=\"sparkles\">\n                <div className=\"sparkle\" style={{ \"--delay\": \"0s\" }}></div>\n                <div className=\"sparkle\" style={{ \"--delay\": \"0.3s\" }}></div>\n                <div className=\"sparkle\" style={{ \"--delay\": \"0.6s\" }}></div>\n                <div className=\"sparkle\" style={{ \"--delay\": \"0.9s\" }}></div>\n                <div className=\"sparkle\" style={{ \"--delay\": \"1.2s\" }}></div>\n                <div className=\"sparkle\" style={{ \"--delay\": \"1.5s\" }}></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        @keyframes bounceIn {\n          0% {\n            transform: scale(0.3);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.05);\n            opacity: 1;\n          }\n          70% {\n            transform: scale(0.9);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n\n        @keyframes float {\n          0% {\n            transform: translateY(0) rotate(0deg);\n            opacity: 1;\n          }\n          100% {\n            transform: translateY(-100px) rotate(360deg);\n            opacity: 0;\n          }\n        }\n\n        .animate-bounce-in {\n          animation: bounceIn 0.7s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n        }\n\n        .sparkles {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          width: 10px;\n          height: 10px;\n          border-radius: 50%;\n          background: radial-gradient(\n            circle,\n            #fff 0%,\n            rgba(255, 215, 0, 0.8) 60%,\n            rgba(255, 215, 0, 0) 100%\n          );\n          animation: float 2s ease-in-out forwards;\n          animation-delay: var(--delay);\n          opacity: 0;\n        }\n\n        .sparkle:nth-child(1) {\n          top: 20%;\n          left: 20%;\n        }\n        .sparkle:nth-child(2) {\n          top: 30%;\n          left: 70%;\n        }\n        .sparkle:nth-child(3) {\n          top: 70%;\n          left: 30%;\n        }\n        .sparkle:nth-child(4) {\n          top: 60%;\n          left: 80%;\n        }\n        .sparkle:nth-child(5) {\n          top: 80%;\n          left: 40%;\n        }\n        .sparkle:nth-child(6) {\n          top: 40%;\n          left: 60%;\n        }\n      `}</style>\n\n      <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">\n        Add Purchase\n      </h1>\n      <form onSubmit={handleSubmit} className=\"space-y-4 mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-gray-700 mb-2\">Item Name</label>\n            <input\n              type=\"text\"\n              name=\"itemName\"\n              value={formData.itemName}\n              onChange={handleChange}\n              required\n              className=\"w-full px-3 py-2 border rounded-md hover:bg-blue-200\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-700 mb-2\">Cost</label>\n            <input\n              type=\"number\"\n              name=\"cost\"\n              value={formData.cost}\n              onChange={handleChange}\n              required\n              min=\"0\"\n              step=\"0.01\"\n              className=\"w-full px-3 py-2 border rounded-md hover:bg-blue-200\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-700 mb-2\">Budget Item</label>\n            <select\n              name=\"budgetItemId\"\n              value={formData.budgetItemId}\n              onChange={handleChange}\n              required\n              className=\"w-full px-3 py-2 border rounded-md hover:bg-blue-200\"\n            >\n              <option value=\"\">Select a budget item</option>\n              {budgetGroups.map((group) => (\n                <optgroup key={group.id} label={group.name}>\n                  {group.budget_items?.map((item) => (\n                    <option key={item.id} value={item.id}>\n                      {item.name}\n                    </option>\n                  ))}\n                </optgroup>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition-colors flex items-center justify-center\"\n        >\n          <Save className=\"mr-2\" size={20} />\n          Add Purchase\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddPurchase;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', __iconNode);\n\nexport default Save;\n"],"names":["CircleCheckBig","createLucideIcon","d","key","AddPurchase","budgetGroups","userId","refetchPurchases","useData","formData","setFormData","useState","itemName","cost","budgetItemId","showSuccess","setShowSuccess","handleChange","e","name","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","CheckCircle","style","jsx","onSubmit","async","preventDefault","currentDate","Date","toISOString","split","purchaseData","item_name","trim","user_id","parseFloat","budget_item_id","timestamp","error","supabase","from","insert","setTimeout","console","alert","type","onChange","required","min","step","map","group","_group$budget_items","label","budget_items","item","id","Save","size"],"sourceRoot":""}