{"version":3,"file":"static/js/507.e36de1e7.chunk.js","mappings":"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","sources":["components/Charts/CurrentBudget.js","../node_modules/lucide-react/src/icons/chart-pie.ts"],"sourcesContent":["import React from \"react\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { useData } from \"../../DataContext\";\nimport { PieChart } from \"lucide-react\";\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nfunction CurrentBudget() {\n  const { income: incomeData, budgetGroups: groups } = useData();\n  const income = incomeData?.monthlyTakeHome || 0;\n\n  const colorPalette = {\n    backgroundColor: [\n      \"#f87171\",\n      \"#60a5fa\",\n      \"#34d399\",\n      \"#a78bfa\",\n      \"#fcd34d\",\n      \"#fb923c\",\n      \"#4ade80\",\n      \"#22d3ee\",\n      \"#e879f9\",\n      \"#fb7185\",\n    ],\n    hoverBackgroundColor: [\n      \"#ef4444\",\n      \"#3b82f6\",\n      \"#10b981\",\n      \"#8b5cf6\",\n      \"#f59e0b\",\n      \"#ea580c\",\n      \"#16a34a\",\n      \"#0891b2\",\n      \"#d946ef\",\n      \"#e11d48\",\n    ],\n  };\n\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }).format(value || 0);\n  };\n\n  const totalBudget = groups.reduce(\n    (sum, group) => sum + group.budget_items.reduce((itemSum, item) => itemSum + item.budget, 0),\n    0\n  );\n\n  const data = {\n    labels: groups.map(\n      (group) => {\n        const groupTotal = group.budget_items.reduce((sum, item) => sum + item.budget, 0);\n        return group.name;\n      }\n    ),\n    datasets: [\n      {\n        data: groups.map((group) =>\n          group.budget_items.reduce((sum, item) => sum + item.budget, 0)\n        ),\n        backgroundColor: colorPalette.backgroundColor,\n        hoverBackgroundColor: colorPalette.hoverBackgroundColor,\n        borderWidth: 2,\n        borderColor: 'rgba(0, 0, 0, 0.1)',\n        hoverBorderWidth: 3,\n        hoverBorderColor: 'rgba(0, 0, 0, 0.2)',\n      },\n    ],\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false,\n      },\n      tooltip: {\n        backgroundColor: \"rgba(30, 41, 59, 0.95)\",\n        titleColor: \"#f3f4f6\",\n        bodyColor: \"#e5e7eb\",\n        borderColor: \"rgba(148, 163, 184, 0.2)\",\n        borderWidth: 1,\n        cornerRadius: 8,\n        titleFont: {\n          family: \"'Inter', sans-serif\",\n          size: 14,\n          weight: \"600\",\n        },\n        bodyFont: {\n          family: \"'Inter', sans-serif\",\n          size: 13,\n        },\n        padding: 12,\n        displayColors: true,\n        boxWidth: 12,\n        boxHeight: 12,\n        usePointStyle: true,\n        callbacks: {\n          label: function(context) {\n            const value = context.parsed;\n            const percentage = totalBudget > 0 ? ((value / totalBudget) * 100).toFixed(1) : 0;\n            return `$${formatCurrency(value)} (${percentage}%)`;\n          }\n        }\n      },\n      datalabels: {\n        color: '#fff',\n        font: function(context) {\n          const percentage = totalBudget > 0 ? ((context.dataset.data[context.dataIndex] / totalBudget) * 100) : 0;\n          // Adjust font size based on segment size\n          const fontSize = percentage > 15 ? 14 : percentage > 8 ? 12 : 10;\n          return {\n            family: \"'Inter', sans-serif\",\n            weight: 'bold',\n            size: fontSize,\n          };\n        },\n        formatter: (value, context) => {\n          const percentage = totalBudget > 0 ? ((value / totalBudget) * 100).toFixed(1) : 0;\n          const label = context.chart.data.labels[context.dataIndex];\n          // Only show label if the segment is large enough (>3%)\n          if (percentage < 3) {\n            return '';\n          }\n          // For smaller segments, only show percentage\n          if (percentage < 8) {\n            return `${percentage}%`;\n          }\n          // For larger segments, show both name and percentage\n          return `${label}\\n${percentage}%`;\n        },\n        textAlign: 'center',\n        anchor: 'center',\n        align: 'center',\n        offset: 0,\n        clamp: true,\n        textShadowBlur: 6,\n        textShadowColor: 'rgba(0, 0, 0, 0.7)',\n      },\n    },\n    cutout: '50%',\n    animation: {\n      animateRotate: true,\n      animateScale: true,\n      duration: 1200,\n      easing: 'easeOutQuart',\n    },\n  };\n\n  return (\n    <div className=\"w-full mx-auto p-2 md:p-6 bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-gray-200 dark:border-gray-700\">\n      {/* Header */}\n      <div className=\"flex items-center gap-1.5 md:gap-3 mb-3 md:mb-6\">\n        <div className=\"inline-flex items-center justify-center w-6 h-6 md:w-12 md:h-12 rounded-lg md:rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg\">\n          <PieChart className=\"text-white w-3 h-3 md:w-6 md:h-6\" />\n        </div>\n        <h1 className=\"text-sm md:text-3xl font-bold text-gray-800 dark:text-white\">\n          Current Budget\n        </h1>\n      </div>\n\n      {/* Chart */}\n      <div className=\"w-full\">\n        {groups.length > 0 ? (\n          <div className=\"h-64 md:h-96 w-full flex items-center justify-center\">\n            <Doughnut data={data} options={options} plugins={[ChartDataLabels]} />\n          </div>\n        ) : (\n          <div className=\"h-64 md:h-80 flex flex-col items-center justify-center gap-2 md:gap-4\">\n            <PieChart className=\"w-12 h-12 md:w-16 md:h-16 text-gray-300 dark:text-gray-600\" />\n            <p className=\"text-gray-500 dark:text-gray-400 font-medium text-sm md:text-base\">No budget groups to display</p>\n            <p className=\"text-gray-400 dark:text-gray-500 text-xs md:text-sm\">Create budget groups to see the breakdown</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CurrentBudget;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z',\n      key: 'pzmjnu',\n    },\n  ],\n  ['path', { d: 'M21.21 15.89A10 10 0 1 1 8 2.83', key: 'k2fpak' }],\n];\n\n/**\n * @component @name ChartPie\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJjLjU1MiAwIDEuMDA1LS40NDkuOTUtLjk5OGExMCAxMCAwIDAgMC04Ljk1My04Ljk1MWMtLjU1LS4wNTUtLjk5OC4zOTgtLjk5OC45NXY4YTEgMSAwIDAgMCAxIDF6IiAvPgogIDxwYXRoIGQ9Ik0yMS4yMSAxNS44OUExMCAxMCAwIDEgMSA4IDIuODMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-pie\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartPie = createLucideIcon('ChartPie', __iconNode);\n\nexport default ChartPie;\n"],"names":["ChartJS","register","ArcElement","Tooltip","Legend","income","incomeData","budgetGroups","groups","useData","colorPalette","monthlyTakeHome","backgroundColor","hoverBackgroundColor","totalBudget","reduce","sum","group","budget_items","itemSum","item","budget","data","labels","map","name","datasets","borderWidth","borderColor","hoverBorderWidth","hoverBorderColor","options","responsive","maintainAspectRatio","plugins","legend","display","tooltip","titleColor","bodyColor","cornerRadius","titleFont","family","size","weight","bodyFont","padding","displayColors","boxWidth","boxHeight","usePointStyle","callbacks","label","context","value","parsed","percentage","toFixed","concat","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatCurrency","datalabels","color","font","dataset","dataIndex","formatter","chart","textAlign","anchor","align","offset","clamp","textShadowBlur","textShadowColor","cutout","animation","animateRotate","animateScale","duration","easing","_jsxs","className","children","_jsx","PieChart","length","Doughnut","ChartDataLabels","ChartPie","createLucideIcon","d","key"],"sourceRoot":""}