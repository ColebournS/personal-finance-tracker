/*! For license information please see 211.67fe52dc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpersonal_finance_tracker=self.webpackChunkpersonal_finance_tracker||[]).push([[211],{3211:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var r=t(9379),s=t(5043),n=t(3709),l=t(1114);const d=(0,l.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,l.A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),o=(0,l.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var c=t(4401),m=t(2107),u=t(2031),g=t(579);const h=()=>{const{budgetGroups:e,userId:a,refetchPurchases:t}=(0,u.E)(),[l,h]=(0,s.useState)({itemName:"",cost:"",budgetItemId:""}),[p,b]=(0,s.useState)(!1),x=e=>{const{name:a,value:t}=e.target;h((e=>(0,r.A)((0,r.A)({},e),{},{[a]:t})))};return(0,g.jsxs)("div",{className:"w-full mx-auto p-8 bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-gray-200 dark:border-gray-700 relative",children:[p&&(0,g.jsx)("div",{className:"success-animation fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,g.jsx)("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-lg shadow-2xl transform transition-all duration-500 animate-bounce-in",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-green-100 dark:bg-green-900 mb-6",children:(0,g.jsx)(d,{className:"w-16 h-16 text-green-500 dark:text-green-400 animate-pulse"})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Success!"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your purchase has been added"}),(0,g.jsxs)("div",{className:"sparkles",children:[(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"0s"}}),(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"0.3s"}}),(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"0.6s"}}),(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"0.9s"}}),(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"1.2s"}}),(0,g.jsx)("div",{className:"sparkle",style:{"--delay":"1.5s"}})]})]})})}),(0,g.jsx)("style",{jsx:!0,children:"\n        @keyframes bounceIn {\n          0% {\n            transform: scale(0.3);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.05);\n            opacity: 1;\n          }\n          70% {\n            transform: scale(0.9);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n\n        @keyframes float {\n          0% {\n            transform: translateY(0) rotate(0deg);\n            opacity: 1;\n          }\n          100% {\n            transform: translateY(-100px) rotate(360deg);\n            opacity: 0;\n          }\n        }\n\n        .animate-bounce-in {\n          animation: bounceIn 0.7s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;\n        }\n\n        .sparkles {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          width: 10px;\n          height: 10px;\n          border-radius: 50%;\n          background: radial-gradient(\n            circle,\n            #fff 0%,\n            rgba(255, 215, 0, 0.8) 60%,\n            rgba(255, 215, 0, 0) 100%\n          );\n          animation: float 2s ease-in-out forwards;\n          animation-delay: var(--delay);\n          opacity: 0;\n        }\n\n        .sparkle:nth-child(1) {\n          top: 20%;\n          left: 20%;\n        }\n        .sparkle:nth-child(2) {\n          top: 30%;\n          left: 70%;\n        }\n        .sparkle:nth-child(3) {\n          top: 70%;\n          left: 30%;\n        }\n        .sparkle:nth-child(4) {\n          top: 60%;\n          left: 80%;\n        }\n        .sparkle:nth-child(5) {\n          top: 80%;\n          left: 40%;\n        }\n        .sparkle:nth-child(6) {\n          top: 40%;\n          left: 60%;\n        }\n      "}),(0,g.jsxs)("div",{className:"text-center mb-4",children:[(0,g.jsx)("div",{className:"inline-flex items-center justify-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4",children:(0,g.jsx)(i,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Add Purchase"})]}),(0,g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(new Date).toISOString().split("T")[0],r={item_name:l.itemName.trim(),user_id:a,cost:parseFloat(l.cost)||0,budget_item_id:l.budgetItemId,timestamp:new Date(e+"T00:00:00Z").toISOString()},{error:s}=await n.A.from("purchases").insert([r]);if(s)throw s;await t(),b(!0),setTimeout((()=>{b(!1)}),3e3),h({itemName:"",cost:"",budgetItemId:""})}catch(r){console.error("Error saving purchase:",r),alert("Failed to save purchase. Please try again.")}},className:"space-y-6",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,g.jsxs)("div",{className:"md:col-span-2",children:[(0,g.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Item Name ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:(0,g.jsx)(o,{size:20})}),(0,g.jsx)("input",{type:"text",name:"itemName",value:l.itemName,onChange:x,required:!0,placeholder:"e.g., Groceries, Coffee, Gas",className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Cost ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:(0,g.jsx)(c.A,{size:20})}),(0,g.jsx)("input",{type:"number",name:"cost",value:l.cost,onChange:x,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Budget Category ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsxs)("select",{name:"budgetItemId",value:l.budgetItemId,onChange:x,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all cursor-pointer appearance-none bg-no-repeat bg-right pr-10",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%236B7280' d='M4.427 6.573l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 6H4.604a.25.25 0 00-.177.427z'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem"},children:[(0,g.jsx)("option",{value:"",children:"Select a category"}),e.map((e=>{var a;return(0,g.jsx)("optgroup",{label:e.name,className:"font-semibold",children:null===(a=e.budget_items)||void 0===a?void 0:a.map((e=>(0,g.jsx)("option",{value:e.id,className:"font-normal",children:e.name},e.id)))},e.id)}))]})]})]}),(0,g.jsxs)("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 text-white py-3.5 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 dark:hover:from-blue-700 dark:hover:to-blue-800 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center font-semibold text-lg",children:[(0,g.jsx)(m.A,{className:"mr-2",size:22}),"Add Purchase"]})]})]})}},2107:(e,a,t)=>{t.d(a,{A:()=>r});const r=(0,t(1114).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}}]);
//# sourceMappingURL=211.67fe52dc.chunk.js.map