{"version":3,"file":"static/js/903.7f45b98d.chunk.js","mappings":"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","sources":["components/Projections.js","../node_modules/lucide-react/src/icons/trending-up.ts"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { TrendingUp } from \"lucide-react\";\nimport { useAuth } from \"../AuthContext\";\nimport supabase from \"../supabaseClient\";\nimport { decryptValue } from \"../utils/encryption\";\n\nfunction Projections() {\n  const { user } = useAuth();\n  const [accounts, setAccounts] = useState([]);\n  const [projectionMonths, setProjectionMonths] = useState(12);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch accounts from Supabase\n  const fetchAccounts = useCallback(async () => {\n    if (!user?.id) return;\n    \n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from(\"accounts\")\n        .select(\"*\")\n        .eq(\"user_id\", user.id)\n        .order(\"created_at\", { ascending: true });\n\n      if (error) throw error;\n      \n      // Decrypt account values\n      const decryptedAccounts = (data || []).map(account => ({\n        ...account,\n        value: decryptValue(account.value, user.id),\n        interest_rate: decryptValue(account.interest_rate, user.id),\n        montly_contribution: decryptValue(account.montly_contribution, user.id)\n      }));\n      \n      setAccounts(decryptedAccounts);\n    } catch (error) {\n      console.error(\"Error fetching accounts:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }, [user?.id]);\n\n  useEffect(() => {\n    fetchAccounts();\n  }, [fetchAccounts]);\n\n  // Format number with commas and 2 decimal places\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(value);\n  };\n\n  // Calculate future value for an account at a given month\n  const calculateFutureValue = (account, months) => {\n    const presentValue = Number(account.value) || 0;\n    const annualRate = Number(account.interest_rate) || 0;\n    const monthlyRate = annualRate / 100 / 12;\n    const monthlyContribution = Number(account.montly_contribution) || 0;\n    \n    if (['credit', 'loan'].includes(account.account_type)) {\n      let balance = presentValue;\n      for (let i = 0; i < months; i++) {\n        if (balance <= 0) return 0;\n        balance = balance * (1 + monthlyRate);\n        balance = balance - monthlyContribution;\n      }\n      return Math.max(0, balance);\n    }\n    \n    if (monthlyRate === 0) {\n      return presentValue + (monthlyContribution * months);\n    }\n    \n    const compoundFactor = Math.pow(1 + monthlyRate, months);\n    const futureValueFromPresent = presentValue * compoundFactor;\n    const futureValueFromContributions = monthlyContribution * ((compoundFactor - 1) / monthlyRate);\n    \n    return futureValueFromPresent + futureValueFromContributions;\n  };\n\n  // Generate projection data\n  const projectionData = React.useMemo(() => {\n    if (!accounts || !Array.isArray(accounts)) {\n      return [];\n    }\n    \n    const projectableAccounts = accounts.filter(\n      acc => acc.account_type === 'investment' || acc.account_type === 'loan'\n    );\n    \n    let monthsToShow;\n    if (projectionMonths <= 12) {\n      monthsToShow = [1, 3, 6, 12];\n    } else if (projectionMonths <= 36) {\n      monthsToShow = [6, 12, 24, 36];\n    } else if (projectionMonths <= 60) {\n      monthsToShow = [12, 24, 36, 60];\n    } else if (projectionMonths <= 120) {\n      monthsToShow = [12, 36, 60, 120];\n    } else if (projectionMonths <= 180) {\n      monthsToShow = [12, 60, 120, 180];\n    } else {\n      monthsToShow = [12, 60, 120, 180, 240];\n    }\n    \n    const relevantMonths = monthsToShow.filter(m => m <= projectionMonths);\n    if (!relevantMonths.includes(projectionMonths)) {\n      relevantMonths.push(projectionMonths);\n      relevantMonths.sort((a, b) => a - b);\n    }\n    \n    return projectableAccounts.map(account => ({\n      account,\n      projections: relevantMonths.map(months => ({\n        month: months,\n        value: calculateFutureValue(account, months)\n      }))\n    }));\n  }, [accounts, projectionMonths]);\n\n  // Calculate totals\n  const totals = React.useMemo(() => {\n    if (!accounts || !Array.isArray(accounts)) {\n      return {\n        totalInvestments: 0,\n        totalLoans: 0,\n        netWorth: 0\n      };\n    }\n    \n    const investmentsTotal = accounts\n      .filter(acc => !['credit', 'loan'].includes(acc.account_type))\n      .reduce((sum, acc) => sum + (Number(acc.value) || 0), 0);\n    \n    const loansTotal = accounts\n      .filter(acc => ['credit', 'loan'].includes(acc.account_type))\n      .reduce((sum, acc) => sum + (Number(acc.value) || 0), 0);\n    \n    return {\n      totalInvestments: investmentsTotal,\n      totalLoans: loansTotal,\n      netWorth: investmentsTotal - loansTotal\n    };\n  }, [accounts]);\n\n  if (loading) {\n    return (\n      <div className=\"w-full mx-auto p-6 bg-white dark:bg-slate-800 shadow-lg rounded-lg\">\n        <div className=\"text-center text-gray-600 dark:text-gray-300\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Future Value Projections */}\n      {projectionData.length > 0 && (\n        <div>\n          <div className=\"flex justify-between items-center mb-6\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg\">\n                <TrendingUp className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\n              </div>\n              <h2 className=\"text-lg sm:text-xl font-bold text-gray-800 dark:text-white truncate\">\n                Account Projections\n              </h2>\n            </div>\n\n            <select\n              value={projectionMonths}\n              onChange={(e) => setProjectionMonths(Number(e.target.value))}\n              className=\"px-2 py-1 sm:px-4 sm:py-2 bg-white dark:bg-slate-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all cursor-pointer text-sm sm:text-base\"\n            >\n              <option value={6}>6 months</option>\n              <option value={12}>1 year</option>\n              <option value={24}>2 years</option>\n              <option value={36}>3 years</option>\n              <option value={60}>5 years</option>\n              <option value={120}>10 years</option>\n              <option value={180}>15 years</option>\n              <option value={240}>20 years</option>\n            </select>\n          </div>\n\n          {/* Desktop Table View */}\n          <div className=\"hidden md:block bg-gray-50 dark:bg-slate-700/50 rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full table-auto\">\n                <thead>\n                  <tr className=\"bg-gray-200 dark:bg-slate-600 border-b-2 border-gray-300 dark:border-gray-500\">\n                    <th className=\"px-4 py-4 font-semibold text-left text-gray-700 dark:text-gray-200 text-sm uppercase tracking-wider whitespace-nowrap sticky left-0 bg-gray-200 dark:bg-slate-600\">\n                      Account\n                    </th>\n                    <th className=\"px-4 py-4 font-semibold text-center text-gray-700 dark:text-gray-200 text-sm uppercase tracking-wider whitespace-nowrap\">\n                      Current Value\n                    </th>\n                    {projectionData[0]?.projections.map((proj) => (\n                      <th\n                        key={proj.month}\n                        className=\"px-4 py-4 font-semibold text-center text-gray-700 dark:text-gray-200 text-sm uppercase tracking-wider whitespace-nowrap\"\n                      >\n                        {proj.month} {proj.month === 1 ? \"Month\" : \"Months\"}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white dark:bg-slate-700\">\n                  {projectionData.map((item, index) => (\n                    <tr\n                      key={item.account.id}\n                      className={`border-b border-gray-200 dark:border-gray-600 transition-colors hover:bg-gray-50 dark:hover:bg-slate-600/50 ${\n                        index % 2 === 0\n                          ? \"bg-white dark:bg-slate-700\"\n                          : \"bg-gray-50/50 dark:bg-slate-700/50\"\n                      }`}\n                    >\n                      <td className={`px-4 py-3 font-medium text-gray-800 dark:text-white whitespace-nowrap sticky left-0 ${\n                        index % 2 === 0\n                          ? \"bg-white dark:bg-slate-700\"\n                          : \"bg-gray-50 dark:bg-slate-700\"\n                      }`}>\n                        <div className=\"flex items-center gap-2\">\n                          {item.account.name}\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-3 text-center whitespace-nowrap\">\n                        <div className=\"font-semibold text-gray-800 dark:text-white\">\n                          ${formatCurrency(Number(item.account.value || 0))}\n                        </div>\n                      </td>\n                      {item.projections.map((proj) => {\n                        const initialValue = Number(item.account.value || 0);\n                        const monthlyContribution = Number(item.account.montly_contribution || 0);\n                        let totalContributions = monthlyContribution * proj.month;\n                        \n                        let totalInterest;\n                        if (['credit', 'loan'].includes(item.account.account_type)) {\n                          // For loans: if balance is 0, calculate interest differently\n                          if (proj.value === 0) {\n                            // Loan is paid off, calculate total interest paid and actual contributions\n                            const monthlyPayment = Number(item.account.montly_contribution || 0);\n                            const monthlyRate = Number(item.account.interest_rate || 0) / 100 / 12;\n                            \n                            let totalInterestPaid = 0;\n                            let actualContributions = 0;\n                            let balance = initialValue;\n                            let monthsPaid = 0;\n                            \n                            for (let i = 0; i < proj.month; i++) {\n                              if (balance <= 0) break;\n                              \n                              const interestPayment = balance * monthlyRate;\n                              totalInterestPaid += interestPayment;\n                              actualContributions += monthlyPayment;\n                              balance = balance * (1 + monthlyRate) - monthlyPayment;\n                              monthsPaid++;\n                            }\n                            \n                            totalInterest = totalInterestPaid;\n                            // Update totalContributions to actual contributions made\n                            totalContributions = actualContributions;\n                          } else {\n                            // Loan not paid off yet, use simple calculation\n                            const principalReduction = Math.max(0, initialValue - proj.value);\n                            totalInterest = Math.max(0, totalContributions - principalReduction);\n                          }\n                          \n                          console.log('Loan calc:', {\n                            account: item.account.name,\n                            initialValue,\n                            projValue: proj.value,\n                            totalContributions,\n                            totalInterest\n                          });\n                        } else {\n                          // For investments: interest = future value - current value - total contributions\n                          totalInterest = proj.value - initialValue - totalContributions;\n                        }\n                        \n                        return (\n                          <td\n                            key={proj.month}\n                            className=\"px-4 py-3 text-center whitespace-nowrap\"\n                          >\n                            <div className=\"font-semibold text-gray-800 dark:text-white mb-1\">\n                              ${formatCurrency(proj.value)}\n                            </div>\n                            <div className=\"text-xs space-y-0.5\">\n                              <div className=\"text-blue-600 dark:text-blue-400\">\n                                Contributions: ${formatCurrency(totalContributions)}\n                              </div>\n                              <div className={`${\n                                ['credit', 'loan'].includes(item.account.account_type)\n                                  ? \"text-red-600 dark:text-red-400\"\n                                  : \"text-green-600 dark:text-green-400\"\n                              }`}>\n                                {['credit', 'loan'].includes(item.account.account_type) ? \"Interest Paid\" : \"Interest Earned\"}: ${formatCurrency(Math.abs(totalInterest))}\n                              </div>\n                            </div>\n                          </td>\n                        );\n                      })}\n                    </tr>\n                  ))}\n                  \n                  {/* Total Row */}\n                  <tr className=\"bg-blue-50 dark:bg-blue-900/20 border-t-2 border-blue-300 dark:border-blue-700 font-bold\">\n                    <td className=\"px-4 py-4 text-gray-800 dark:text-white whitespace-nowrap sticky left-0 bg-blue-50 dark:bg-blue-900/20\">\n                      Total Net Worth\n                    </td>\n                    <td className=\"px-4 py-4 text-center text-gray-800 dark:text-white whitespace-nowrap\">\n                      <div className=\"font-bold\">\n                        ${formatCurrency(totals.netWorth)}\n                      </div>\n                    </td>\n                    {projectionData[0]?.projections.map((proj) => {\n                      let totalFuture = 0;\n                      let totalContributions = 0;\n                      let totalInterest = 0;\n                      \n                      projectionData.forEach((item) => {\n                        const projValue = item.projections.find(p => p.month === proj.month)?.value || 0;\n                        const monthlyContribution = Number(item.account.montly_contribution || 0);\n                        const contributions = monthlyContribution * proj.month;\n                        const initialValue = Number(item.account.value || 0);\n                        \n                        if (['credit', 'loan'].includes(item.account.account_type)) {\n                          totalFuture -= projValue;\n                          totalContributions += contributions;\n                          const principalReduction = initialValue - projValue;\n                          const interestPaid = contributions - principalReduction;\n                          totalInterest -= interestPaid;\n                        } else {\n                          totalFuture += projValue;\n                          totalContributions += contributions;\n                          const interestEarned = projValue - initialValue - contributions;\n                          totalInterest += interestEarned;\n                        }\n                      });\n                      \n                      return (\n                        <td\n                          key={proj.month}\n                          className=\"px-4 py-4 text-center whitespace-nowrap\"\n                        >\n                          <div className=\"font-bold text-gray-800 dark:text-white mb-1\">\n                            ${formatCurrency(totalFuture)}\n                          </div>\n                          <div className=\"text-xs space-y-0.5\">\n                            <div className=\"text-blue-600 dark:text-blue-400\">\n                              Contributions: ${formatCurrency(totalContributions)}\n                            </div>\n                            <div className={`${\n                              totalInterest >= 0\n                                ? \"text-green-600 dark:text-green-400\"\n                                : \"text-red-600 dark:text-red-400\"\n                            }`}>\n                              Net Interest: ${formatCurrency(Math.abs(totalInterest))}\n                            </div>\n                          </div>\n                        </td>\n                      );\n                    })}\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Mobile Card View */}\n          <div className=\"md:hidden space-y-4\">\n            {projectionData.map((item) => (\n              <div key={item.account.id} className=\"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"font-semibold text-gray-800 dark:text-white\">\n                    {item.account.name}\n                  </h3>\n                  <div className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\n                    Current: ${formatCurrency(Number(item.account.value || 0))}\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-3\">\n                  {item.projections.map((proj) => {\n                    const initialValue = Number(item.account.value || 0);\n                    const monthlyContribution = Number(item.account.montly_contribution || 0);\n                    const totalContributions = monthlyContribution * proj.month;\n                    \n                    let totalInterest;\n                    if (['credit', 'loan'].includes(item.account.account_type)) {\n                      const principalReduction = initialValue - proj.value;\n                      totalInterest = totalContributions - principalReduction;\n                    } else {\n                      totalInterest = proj.value - initialValue - totalContributions;\n                    }\n                    \n                    return (\n                      <div key={proj.month} className=\"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-3 text-center\">\n                        <div className=\"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1\">\n                          {proj.month} {proj.month === 1 ? \"Month\" : \"Months\"}\n                        </div>\n                        <div className=\"font-bold text-gray-800 dark:text-white mb-2\">\n                          ${formatCurrency(proj.value)}\n                        </div>\n                        <div className=\"space-y-1\">\n                          <div className=\"text-xs text-blue-600 dark:text-blue-400\">\n                            Contrib: ${formatCurrency(totalContributions)}\n                          </div>\n                          <div className={`text-xs ${\n                            ['credit', 'loan'].includes(item.account.account_type)\n                              ? \"text-red-600 dark:text-red-400\"\n                              : \"text-green-600 dark:text-green-400\"\n                          }`}>\n                            {['credit', 'loan'].includes(item.account.account_type) ? \"Int Paid\" : \"Int Earned\"}: ${formatCurrency(Math.abs(totalInterest))}\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n            \n            <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 p-4\">\n              <h3 className=\"font-bold text-gray-800 dark:text-white mb-3\">Total Net Worth Projection</h3>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {projectionData[0]?.projections.map((proj) => {\n                  let totalFuture = 0;\n                  let totalContributions = 0;\n                  let totalInterest = 0;\n                  \n                  projectionData.forEach((item) => {\n                    const projValue = item.projections.find(p => p.month === proj.month)?.value || 0;\n                    const monthlyContribution = Number(item.account.montly_contribution || 0);\n                    const contributions = monthlyContribution * proj.month;\n                    const initialValue = Number(item.account.value || 0);\n                    \n                    if (['credit', 'loan'].includes(item.account.account_type)) {\n                      totalFuture -= projValue;\n                      totalContributions += contributions;\n                      const principalReduction = initialValue - projValue;\n                      const interestPaid = contributions - principalReduction;\n                      totalInterest -= interestPaid;\n                    } else {\n                      totalFuture += projValue;\n                      totalContributions += contributions;\n                      const interestEarned = projValue - initialValue - contributions;\n                      totalInterest += interestEarned;\n                    }\n                  });\n                  \n                  return (\n                    <div key={proj.month} className=\"text-center\">\n                      <div className=\"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1\">\n                        {proj.month} {proj.month === 1 ? \"Month\" : \"Months\"}\n                      </div>\n                      <div className=\"font-bold text-gray-800 dark:text-white mb-1\">\n                        ${formatCurrency(totalFuture)}\n                      </div>\n                      <div className=\"space-y-1\">\n                        <div className=\"text-xs text-blue-600 dark:text-blue-400\">\n                          Contrib: ${formatCurrency(totalContributions)}\n                        </div>\n                        <div className={`text-xs ${\n                          totalInterest >= 0\n                            ? \"text-green-600 dark:text-green-400\"\n                            : \"text-red-600 dark:text-red-400\"\n                        }`}>\n                          Net Int: ${formatCurrency(Math.abs(totalInterest))}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {projectionData.length === 0 && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8\">\n          <div className=\"text-center\">\n            <div className=\"flex flex-col items-center gap-3\">\n              <div className=\"text-gray-400 dark:text-gray-500\">\n                <TrendingUp size={40} />\n              </div>\n              <p className=\"text-gray-500 dark:text-gray-400 text-base\">\n                No investment or loan accounts found\n              </p>\n              <p className=\"text-gray-400 dark:text-gray-500 text-sm\">\n                Add investment or loan accounts to see future value projections\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Projections;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', __iconNode);\n\nexport default TrendingUp;\n"],"names":["_projectionData$","_projectionData$2","_projectionData$3","user","useAuth","accounts","setAccounts","useState","projectionMonths","setProjectionMonths","loading","setLoading","fetchAccounts","useCallback","async","id","data","error","supabase","from","select","eq","order","ascending","decryptedAccounts","map","account","_objectSpread","value","decryptValue","interest_rate","montly_contribution","console","useEffect","formatCurrency","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","calculateFutureValue","months","presentValue","Number","monthlyRate","monthlyContribution","includes","account_type","balance","i","Math","max","compoundFactor","pow","projectionData","React","Array","isArray","projectableAccounts","filter","acc","monthsToShow","relevantMonths","m","push","sort","a","b","projections","month","totals","totalInvestments","totalLoans","netWorth","investmentsTotal","reduce","sum","loansTotal","_jsx","className","children","_jsxs","length","TrendingUp","onChange","e","target","proj","item","index","concat","name","initialValue","totalInterest","totalContributions","monthlyPayment","totalInterestPaid","actualContributions","monthsPaid","principalReduction","log","projValue","abs","totalFuture","forEach","_item$projections$fin","find","p","contributions","_item$projections$fin2","size","createLucideIcon","points","key"],"sourceRoot":""}